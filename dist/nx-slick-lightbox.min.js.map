{"version":3,"sources":["nx-slick-lightbox.js"],"names":["$","SlickLightbox","defaults","element","options1","slickLightbox","this","options","$element","didInit","on","itemSelector","e","$clickedItem","$items","preventDefault","blur","shouldOpen","find","elementIsSlick","filterOutSlickClones","handlePossibleCloneClick","init","index","prototype","detectIE","createModal","bindEvents","initSlick","open","createModalItems","createItem","itemTemplate","lazyPlaceholder","length","links","_this","source","caption","lazy","images","map","img","el","info","src","getElementCaption","getElementSrc","html","isIE","background","captionPosition","join","$modalElement","$parts","layouts","closeButton","append","additional","initialSlide","lazyLoad","slick","nxSlick","extend","trigger","useHistoryApi","writeHistory","setTimeout","getTransitionDuration","removeClass","close","addClass","destroy","resizeSlides","h","height","css","Math","round","imageMaxHeight","window","closeOnEscape","navigateByKeyboard","document","code","keyCode","which","slideSlick","closeOnBackdropClick","stopPropagation","direction","test","navigator","userAgent","Number","RegExp","$1","data","call","attr","href","unbindEvents","off","unbindAnchors","remove","destroyTimeout","destroyPrevious","children","duration","transitionDuration","indexOf","parseFloat","history","pushState","filter","$item","hasClass","parents","closest","first","fn","nxSlickLightbox","each","nxUnslickLightbox","jQuery"],"mappings":"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","file":"nx-slick-lightbox.min.js","sourcesContent":["'use strict';\n(function ($) {\n    var SlickLightbox, defaults;\n    SlickLightbox = function () {\n        /*\n  The core class.\n   */\n        function SlickLightbox(element, options1) {\n            var slickLightbox;\n            this.options = options1;\n            /* Binds the plugin. */\n            this.$element = $(element);\n            this.didInit = false;\n            slickLightbox = this;\n            this.$element.on('click.slickLightbox', this.options.itemSelector, function (e) {\n                var $clickedItem, $items;\n                e.preventDefault();\n                $clickedItem = $(this);\n                $clickedItem.blur();\n                if (typeof slickLightbox.options.shouldOpen === 'function') {\n                    if (!slickLightbox.options.shouldOpen(slickLightbox, $clickedItem, e)) {\n                        return;\n                    }\n                }\n                $items = slickLightbox.$element.find(slickLightbox.options.itemSelector);\n                if (slickLightbox.elementIsSlick()) {\n                    $items = slickLightbox.filterOutSlickClones($items);\n                    $clickedItem = slickLightbox.handlePossibleCloneClick($clickedItem, $items);\n                }\n                return slickLightbox.init($items.index($clickedItem));\n            });\n        }\n        SlickLightbox.prototype.init = function (index) {\n            /* Creates the lightbox, opens it, binds events and calls `slick`. Accepts `index` of the element, that triggered it (so that we know, on which slide to start slick). */\n            this.didInit = true;\n            this.detectIE();\n            this.createModal();\n            this.bindEvents();\n            this.initSlick(index);\n            return this.open();\n        };\n        SlickLightbox.prototype.createModalItems = function () {\n            /* Creates individual slides to be used with slick. If `options.images` array is specified, it uses it's contents, otherwise loops through elements' `options.itemSelector`. */\n            var $items, createItem, itemTemplate, lazyPlaceholder, length, links;\n            lazyPlaceholder = this.options.lazyPlaceholder || 'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7';\n            itemTemplate = function (source, caption, lazy) {\n                var imgSourceParams;\n                if (lazy === true) {\n                    imgSourceParams = ' data-lazy=\"' + source + '\" src=\"' + lazyPlaceholder + '\" ';\n                } else {\n                    imgSourceParams = ' src=\"' + source + '\" ';\n                }\n                return '<div class=\"nx-slick-lightbox-slick-item\">\\n  <div class=\"nx-slick-lightbox-slick-item-inner\">\\n    <img class=\"nx-slick-lightbox-slick-img\" ' + imgSourceParams + ' />\\n    ' + caption + '\\n  </div>\\n</div>';\n            };\n            if (this.options.images) {\n                links = $.map(this.options.images, function (_this) {\n                    return function (img) {\n                        return itemTemplate(img, _this.options.lazy);\n                    };\n                }(this));\n            } else {\n                $items = this.filterOutSlickClones(this.$element.find(this.options.itemSelector));\n                length = $items.length;\n                createItem = function (_this) {\n                    return function (el, index) {\n                        var caption, info, src;\n                        info = {\n                            index: index,\n                            length: length\n                        };\n                        caption = _this.getElementCaption(el, info);\n                        src = _this.getElementSrc(el);\n                        return itemTemplate(src, caption, _this.options.lazy);\n                    };\n                }(this);\n                links = $.map($items, createItem);\n            }\n            return links;\n        };\n        SlickLightbox.prototype.createModal = function () {\n            /* Creates a `slick`-friendly modal. */\n            var html, links;\n            links = this.createModalItems();\n            html = '<div class=\"nx-slick-lightbox nx-slick-lightbox-hide-init' + (this.isIE ? ' nx-slick-lightbox-ie' : '') + '\" style=\"background: ' + this.options.background + ';\">\\n  <div class=\"nx-slick-lightbox-inner\">\\n    <div class=\"nx-slick-lightbox-slick nx-slick-caption-' + this.options.captionPosition + '\">' + links.join('') + '</div>\\n  <div>\\n<div>';\n            this.$modalElement = $(html);\n            this.$parts = {};\n            this.$parts['closeButton'] = $(this.options.layouts.closeButton);\n            this.$modalElement.find('.nx-slick-lightbox-inner').append(this.$parts['closeButton']);\n            return $('body').append(this.$modalElement);\n        };\n        SlickLightbox.prototype.initSlick = function (index) {\n            /* Runs slick by default, using `options.slick` if provided. If `options.slick` is a function, it gets fired instead of us initializing slick. Merges in initialSlide option. */\n            var additional;\n            additional = { initialSlide: index };\n            if (this.options.lazy) {\n                additional.lazyLoad = 'ondemand';\n            }\n            if (this.options.slick != null) {\n                if (typeof this.options.slick === 'function') {\n                    this.slick = this.options.slick(this.$modalElement);\n                } else {\n                    this.slick = this.$modalElement.find('.nx-slick-lightbox-slick').nxSlick($.extend({}, this.options.slick, additional));\n                }\n            } else {\n                this.slick = this.$modalElement.find('.nx-slick-lightbox-slick').nxSlick(additional);\n            }\n            return this.$modalElement.trigger('init.slickLightbox');\n        };\n        SlickLightbox.prototype.open = function () {\n            /* Opens the lightbox. */\n            if (this.options.useHistoryApi) {\n                this.writeHistory();\n            }\n            this.$element.trigger('show.slickLightbox');\n            setTimeout(function (_this) {\n                return function () {\n                    return _this.$element.trigger('shown.slickLightbox');\n                };\n            }(this), this.getTransitionDuration());\n            return this.$modalElement.removeClass('nx-slick-lightbox-hide-init');\n        };\n        SlickLightbox.prototype.close = function () {\n            /* Closes the lightbox and destroys it, maintaining the original element bindings. */\n            this.$element.trigger('hide.slickLightbox');\n            setTimeout(function (_this) {\n                return function () {\n                    return _this.$element.trigger('hidden.slickLightbox');\n                };\n            }(this), this.getTransitionDuration());\n            this.$modalElement.addClass('nx-slick-lightbox-hide');\n            return this.destroy();\n        };\n        SlickLightbox.prototype.bindEvents = function () {\n            /* Binds global events. */\n            var resizeSlides;\n            resizeSlides = function (_this) {\n                return function () {\n                    var h;\n                    h = _this.$modalElement.find('.nx-slick-lightbox-inner').height();\n                    _this.$modalElement.find('.nx-slick-lightbox-slick-item').height(h);\n                    return _this.$modalElement.find('.nx-slick-lightbox-slick-img, .nx-slick-lightbox-slick-item-inner').css('max-height', Math.round(_this.options.imageMaxHeight * h));\n                };\n            }(this);\n            $(window).on('orientationchange.slickLightbox resize.slickLightbox', resizeSlides);\n            if (this.options.useHistoryApi) {\n                $(window).on('popstate.slickLightbox', function (_this) {\n                    return function () {\n                        return _this.close();\n                    };\n                }(this));\n            }\n            this.$modalElement.on('init.slickLightbox', resizeSlides);\n            this.$modalElement.on('destroy.slickLightbox', function (_this) {\n                return function () {\n                    return _this.destroy();\n                };\n            }(this));\n            this.$element.on('destroy.slickLightbox', function (_this) {\n                return function () {\n                    return _this.destroy(true);\n                };\n            }(this));\n            this.$parts['closeButton'].on('click.slickLightbox touchstart.slickLightbox', function (_this) {\n                return function (e) {\n                    e.preventDefault();\n                    return _this.close();\n                };\n            }(this));\n            if (this.options.closeOnEscape || this.options.navigateByKeyboard) {\n                $(document).on('keydown.slickLightbox', function (_this) {\n                    return function (e) {\n                        var code;\n                        code = e.keyCode ? e.keyCode : e.which;\n                        if (_this.options.navigateByKeyboard) {\n                            if (code === 37) {\n                                _this.slideSlick('left');\n                            } else if (code === 39) {\n                                _this.slideSlick('right');\n                            }\n                        }\n                        if (_this.options.closeOnEscape) {\n                            if (code === 27) {\n                                return _this.close();\n                            }\n                        }\n                    };\n                }(this));\n            }\n            if (this.options.closeOnBackdropClick) {\n                this.$modalElement.on('click.slickLightbox touchstart.slickLightbox', '.nx-slick-lightbox-slick-img', function (e) {\n                    return e.stopPropagation();\n                });\n                return this.$modalElement.on('click.slickLightbox', '.nx-slick-lightbox-slick-item', function (_this) {\n                    return function (e) {\n                        e.preventDefault();\n                        return _this.close();\n                    };\n                }(this));\n            }\n        };\n        SlickLightbox.prototype.slideSlick = function (direction) {\n            /* Moves the slick prev or next. */\n            if (direction === 'left') {\n                return this.slick.slick('slickPrev');\n            } else {\n                return this.slick.slick('slickNext');\n            }\n        };\n        SlickLightbox.prototype.detectIE = function () {\n            /* Detects usage of IE8 and lower. */\n            var ieversion;\n            this.isIE = false;\n            if (/MSIE (\\d+\\.\\d+);/.test(navigator.userAgent)) {\n                ieversion = new Number(RegExp.$1);\n                if (ieversion < 9) {\n                    return this.isIE = true;\n                }\n            }\n        };\n        SlickLightbox.prototype.getElementCaption = function (el, info) {\n            /* Returns caption for each slide based on the type of `options.caption`. */\n            var c;\n            if (!this.options.caption) {\n                return '';\n            }\n            c = function () {\n                switch (typeof this.options.caption) {\n                case 'function':\n                    return this.options.caption(el, info);\n                case 'string':\n                    return $(el).data(this.options.caption);\n                }\n            }.call(this);\n            return '<span class=\"nx-slick-lightbox-slick-caption\">' + c + '</span>';\n        };\n        SlickLightbox.prototype.getElementSrc = function (el) {\n            /* Returns src for each slide image based on the type of `options.src`. */\n            switch (typeof this.options.src) {\n            case 'function':\n                return this.options.src(el);\n            case 'string':\n                return $(el).attr(this.options.src);\n            default:\n                return el.href;\n            }\n        };\n        SlickLightbox.prototype.unbindEvents = function () {\n            /* Unbinds global events. */\n            $(window).off('.slickLightbox');\n            $(document).off('.slickLightbox');\n            return this.$modalElement.off('.slickLightbox');\n        };\n        SlickLightbox.prototype.destroy = function (unbindAnchors) {\n            if (unbindAnchors == null) {\n                unbindAnchors = false;\n            }\n            /* Destroys the lightbox and unbinds global events. If `true` is passed as an argument, unbinds the original element as well. */\n            if (this.didInit) {\n                this.unbindEvents();\n                setTimeout(function (_this) {\n                    return function () {\n                        return _this.$modalElement.remove();\n                    };\n                }(this), this.options.destroyTimeout);\n            }\n            if (unbindAnchors) {\n                this.$element.off('.slickLightbox');\n                return this.$element.off('.slickLightbox', this.options.itemSelector);\n            }\n        };\n        SlickLightbox.prototype.destroyPrevious = function () {\n            /* Destroys lightboxes currently in DOM. */\n            return $('body').children('.nx-slick-lightbox').trigger('destroy.slickLightbox');\n        };\n        SlickLightbox.prototype.getTransitionDuration = function () {\n            /* Detects the transition duration to know when to remove stuff from DOM etc. */\n            var duration;\n            if (this.transitionDuration) {\n                return this.transitionDuration;\n            }\n            duration = this.$modalElement.css('transition-duration');\n            if (typeof duration === 'undefined') {\n                return this.transitionDuration = 500;\n            } else {\n                return this.transitionDuration = duration.indexOf('ms') > -1 ? parseFloat(duration) : parseFloat(duration) * 1000;\n            }\n        };\n        SlickLightbox.prototype.writeHistory = function () {\n            /* Writes an empty state to the history API if supported. */\n            return typeof history !== 'undefined' && history !== null ? typeof history.pushState === 'function' ? history.pushState(null, null, '') : void 0 : void 0;\n        };\n        SlickLightbox.prototype.filterOutSlickClones = function ($items) {\n            /* Removes all slick clones from the set of elements. Only does so, if the target element is a slick slider. */\n            if (!this.elementIsSlick()) {\n                return $items;\n            }\n            return $items = $items.filter(function () {\n                var $item;\n                $item = $(this);\n                return !$item.hasClass('slick-cloned') && $item.parents('.slick-cloned').length === 0;\n            });\n        };\n        SlickLightbox.prototype.handlePossibleCloneClick = function ($clickedItem, $items) {\n            var href;\n            if (!this.elementIsSlick()) {\n                return $clickedItem;\n            }\n            if (!$clickedItem.closest('.slick-slide').hasClass('slick-cloned')) {\n                return $clickedItem;\n            }\n            href = $clickedItem.attr('href');\n            return $items.filter(function () {\n                return $(this).attr('href') === href;\n            }).first();\n        };\n        SlickLightbox.prototype.elementIsSlick = function () {\n            return this.$element.hasClass('slick-slider');\n        };\n        return SlickLightbox;\n    }();\n    defaults = {\n        background: 'rgba(0,0,0,.8)',\n        closeOnEscape: true,\n        closeOnBackdropClick: true,\n        destroyTimeout: 500,\n        itemSelector: 'a',\n        navigateByKeyboard: true,\n        src: false,\n        caption: false,\n        captionPosition: 'dynamic',\n        images: false,\n        slick: {},\n        useHistoryApi: false,\n        layouts: { closeButton: '<button type=\"button\" class=\"nx-slick-lightbox-close\"></button>' },\n        shouldOpen: null,\n        imageMaxHeight: 0.9,\n        lazy: false\n    };\n    $.fn.nxSlickLightbox = function (options) {\n        /* Fires the plugin. */\n        options = $.extend({}, defaults, options);\n        $(this).each(function () {\n            return this.slickLightbox = new SlickLightbox(this, options);\n        });\n        return this;\n    };\n    $.fn.nxUnslickLightbox = function () {\n        /* Removes everything. */\n        return $(this).trigger('destroy.slickLightbox').each(function () {\n            return this.slickLightbox = null;\n        });\n    };\n}(jQuery));"]}